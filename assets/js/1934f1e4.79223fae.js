"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4656],{6579:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"configuration/modules/custom_module","title":"Custom Modules","description":"This special module type lets you extend the functionality of Ashell","source":"@site/docs/configuration/modules/custom_module.md","sourceDirName":"configuration/modules","slug":"/configuration/modules/custom_module","permalink":"/ashell/docs/next/configuration/modules/custom_module","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"docsSidebar","previous":{"title":"Settings","permalink":"/ashell/docs/next/configuration/modules/settings"},"next":{"title":"\ud83c\udfa8 Appearance","permalink":"/ashell/docs/next/configuration/appearance/"}}');var l=i(7259),s=i(9796);const t={sidebar_position:13},c="Custom Modules",d={},a=[{value:"Configuration",id:"configuration",level:2},{value:"<code>listen_cmd</code>",id:"listen_cmd",level:2},{value:"Example Output",id:"example-output",level:3},{value:"Dynamic Icons",id:"dynamic-icons",level:2},{value:"Icons Example",id:"icons-example",level:3},{value:"Alerts",id:"alerts",level:2},{value:"Alerts Example",id:"alerts-example",level:3},{value:"Examples",id:"examples",level:2},{value:"Notifications (with swaync-client)",id:"notifications-with-swaync-client",level:3},{value:"App Launcher (with walker)",id:"app-launcher-with-walker",level:3},{value:"Clipboard (with cliphist)",id:"clipboard-with-cliphist",level:3},{value:"Migration from Deprecated Modules",id:"migration-from-deprecated-modules",level:2},{value:"Previous App Launcher Configuration",id:"previous-app-launcher-configuration",level:3},{value:"New Custom Module Configuration",id:"new-custom-module-configuration",level:3},{value:"Previous Clipboard Configuration",id:"previous-clipboard-configuration",level:3},{value:"New Custom Module Configuration",id:"new-custom-module-configuration-1",level:3}];function r(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"custom-modules",children:"Custom Modules"})}),"\n",(0,l.jsx)(n.p,{children:"This special module type lets you extend the functionality of Ashell\nby creating your own simple components."}),"\n",(0,l.jsxs)(n.p,{children:["A ",(0,l.jsx)(n.strong,{children:"custom module"})," allows you to:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Display the output of a command (live)."}),"\n",(0,l.jsx)(n.li,{children:"Run a command when the module is clicked."}),"\n",(0,l.jsx)(n.li,{children:"Change icons dynamically based on output."}),"\n",(0,l.jsx)(n.li,{children:"Show an alert indicator based on specific conditions."}),"\n"]}),"\n",(0,l.jsxs)(n.admonition,{type:"warning",children:[(0,l.jsx)(n.p,{children:"Ashell comes with a set of default icons that are used internally."}),(0,l.jsx)(n.p,{children:"If you specify a font icon in the custom module configuration remember\nto install the font with that icon on your system."}),(0,l.jsxs)(n.p,{children:["For example you can use ",(0,l.jsx)(n.a,{href:"https://www.nerdfonts.com/",children:"Nerd Fonts"})]})]}),"\n",(0,l.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsx)(n.p,{children:"To define a custom module, use the following fields:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"name"}),": Name of the module. Use this to refer to it in the ",(0,l.jsx)(n.a,{href:"/ashell/docs/next/configuration/modules/",children:"modules definitions"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"icon"}),": Icon displayed in the status bar."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"command"}),": Command to execute when the module is clicked."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"listen_cmd"})," ",(0,l.jsx)(n.em,{children:"(optional)"}),": Command to run in the background to update the\nmodule\u2019s display."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"icons"})," ",(0,l.jsx)(n.em,{children:"(optional)"}),": Regex-to-icon mapping to change the icon based on\nthe ",(0,l.jsx)(n.code,{children:"listen_cmd"})," output."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"alert"})," ",(0,l.jsx)(n.em,{children:"(optional)"}),": Regex to trigger a red alert dot on the icon when\nmatched in the ",(0,l.jsx)(n.code,{children:"listen_cmd"})," output."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"listen_cmd",children:(0,l.jsx)(n.code,{children:"listen_cmd"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"listen_cmd"})," should output JSON in\nthe ",(0,l.jsx)(n.a,{href:"https://github.com/Alexays/Waybar/wiki/Module:-Custom#script-output",children:"Waybar format"}),",\nusing ",(0,l.jsx)(n.code,{children:"text"})," and ",(0,l.jsx)(n.code,{children:"alt"})," fields."]}),"\n",(0,l.jsx)(n.h3,{id:"example-output",children:"Example Output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "text": "3",\n  "alt": "notification"\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"dynamic-icons",children:"Dynamic Icons"}),"\n",(0,l.jsxs)(n.p,{children:["You can change the icon depending on the value of ",(0,l.jsx)(n.code,{children:"alt"})," in the ",(0,l.jsx)(n.code,{children:"listen_cmd"})," output."]}),"\n",(0,l.jsx)(n.h3,{id:"icons-example",children:"Icons Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:"icons.'dnd.*' = \"\uf1f7\"\n"})}),"\n",(0,l.jsxs)(n.p,{children:["This will change the icon to ",(0,l.jsx)(n.code,{children:"\uf1f7"})," when ",(0,l.jsx)(n.code,{children:"alt"})," matches ",(0,l.jsx)(n.code,{children:"dnd.*"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"alerts",children:"Alerts"}),"\n",(0,l.jsxs)(n.p,{children:["Use the ",(0,l.jsx)(n.code,{children:"alert"})," field to show a red dot on the module icon if the output\nmatches a given regex."]}),"\n",(0,l.jsx)(n.h3,{id:"alerts-example",children:"Alerts Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'alert = ".*notification"\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(n.h3,{id:"notifications-with-swaync-client",children:"Notifications (with swaync-client)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'[[CustomModule]]\nname = "CustomNotifications"\nicon = "\uf0a2"\ncommand = "swaync-client -t -sw"\nlisten_cmd = "swaync-client -swb"\nicons.\'dnd.*\' = "\uf1f7"\nalert = ".*notification"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"app-launcher-with-walker",children:"App Launcher (with walker)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'[[CustomModule]]\nname = "AppLauncher"\nicon = "\udb85\uddfc"\ncommand = "walker"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"clipboard-with-cliphist",children:"Clipboard (with cliphist)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'[[CustomModule]]\nname = "Clipboard"\nicon = "\ud83d\udccb"\ncommand = "cliphist-rofi-img | wl-copy"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"migration-from-deprecated-modules",children:"Migration from Deprecated Modules"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"AppLauncher"})," and ",(0,l.jsx)(n.code,{children:"Clipboard"})," modules have been deprecated in favor of custom modules.\nTo migrate from the deprecated modules:"]}),"\n",(0,l.jsx)(n.h3,{id:"previous-app-launcher-configuration",children:"Previous App Launcher Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'# Old deprecated way\napp_launcher_cmd = "walker"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"new-custom-module-configuration",children:"New Custom Module Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'# New recommended way\n[[CustomModule]]\nname = "AppLauncher"\nicon = "\ufffd"\ncommand = "walker"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"previous-clipboard-configuration",children:"Previous Clipboard Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'# Old deprecated way\nclipboard_cmd = "cliphist-rofi-img | wl-copy"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"new-custom-module-configuration-1",children:"New Custom Module Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'# New recommended way\n[[CustomModule]]\nname = "Clipboard"\nicon = "\udb80\udd4f"\ncommand = "cliphist-rofi-img | wl-copy"\n'})}),"\n",(0,l.jsx)(n.p,{children:"Then add the custom modules to your modules configuration:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'[modules]\nright = [ [ "Clock", "Privacy", "Settings", "AppLauncher", "Clipboard" ] ]\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(r,{...e})}):r(e)}},9796:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var o=i(6363);const l={},s=o.createContext(l);function t(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);